<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"/>
    <script src="../js/account.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="../css/account.css" />
    <link rel="stylesheet" href="../css/darkmode.css" />
    <script src="../js/darkmode.js"></script>

    <title>Account - PoliMap GO!</title>
  </head>
    <body>
        <header class="py-2">
            <div class="container d-flex align-items-center">
                <button class="btn btn-link p-0 me-3 btn-back" onclick="goBack()" aria-label="Back">
                    <i class="bi bi-arrow-left fs-4" aria-hidden="true"></i>
                </button>
                <h2 class="m-0">Account</h2>
            </div>
        </header>

        <main class="container my-4 d-flex justify-content-center">
            <article class="card shadow-sm" style="width:360px;">
                <div class="card-body text-center">
                    <!-- Dynamic avatar based on user role -->
                    <div class="avatar-icon mb-3 rounded-circle d-inline-flex align-items-center justify-content-center" style="width:72px;height:72px;">
                        <i class="bi bi-person-circle fs-3" aria-hidden="true"></i>
                    </div>
                    <h5 class="card-title">Account Details</h5>
                    <p class="text-muted small">Manage your profile and login settings</p>

                    <ul class="list-group list-group-flush text-start mt-3">
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span><i class="bi bi-person me-2"></i>Username</span>
                            <strong id="username-display">Loading...</strong>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span><i class="bi bi-key me-2"></i>Password</span>
                            <a href="#" class="password-change-link small" onclick="changePassword()">Change</a>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span><i class="bi bi-envelope me-2"></i>Email</span>
                            <strong id="email-display">Loading...</strong>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span><i class="bi bi-shield me-2"></i>Account Type</span>
                            <span id="account-type">Loading...</span>
                        </li>
                    </ul>

                    <div class="d-grid gap-2 mt-3">
                        <a href="setting.html" class="btn btn-primary">
                            <i class="bi bi-gear me-2"></i>Open Settings
                        </a>
                        <button class="btn btn-outline-secondary" onclick="loadUserAccount()">
                            <i class="bi bi-arrow-clockwise me-2"></i>Refresh
                        </button>
                    </div>
                </div>
            </article>
        </main>
    </body>
</html>